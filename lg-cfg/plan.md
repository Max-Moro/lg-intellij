# –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Listing Generator ‚Äî IntelliJ Platform Plugin

## –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ù–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è **–∑–∞–ø—É—Å–∫–∞–µ–º–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** —Å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Ä–∞—Å—à–∏—Ä—è—é—â–∏–º—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É (—Å–ª–æ–∏ Services ‚Üí UI ‚Üí Actions), –∫–æ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç—Å—è —Å —É—á–µ—Ç–æ–º –±—É–¥—É—â–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π, –∞ –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è **–∑–∞–≥–ª—É—à–∫–∞–º–∏ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏**.

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–æ–∫:**
- UI –≤–µ—Ä—Å—Ç–∞–µ—Ç—Å—è **–ø–æ–ª–Ω–æ—Å—Ç—å—é** –Ω–∞ —Å–≤–æ–µ–π —Ñ–∞–∑–µ (—Å–æ –≤—Å–µ–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏, –Ω–æ —Å –∑–∞–≥–ª—É—à–∫–∞–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö)
- Services –ø—Ä–æ–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è **—Å –ø–æ–ª–Ω—ã–º API** —Å—Ä–∞–∑—É, –Ω–æ —Å mock/stub —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤–Ω—É—Ç—Ä–∏
- –°–ª–æ–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (grouped table, autocomplete) –æ—Ç–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–µ –Ω–∞—Ç–∏–≤–Ω—ã–µ –∞–Ω–∞–ª–æ–≥–∏ —Å **TODO-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏** –æ –±—É–¥—É—â–µ–π –∑–∞–º–µ–Ω–µ

---

## üìã –§–∞–∑–∞ 0: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–∞ –∏ –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

### –¶–µ–ª—å
–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `intellij-platform-plugin-template` –ø–æ–¥ –ø—Ä–æ–µ–∫—Ç Listing Generator –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–ª–∞–≥–∏–Ω —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Development Instance.

### –ó–∞–¥–∞—á–∏

1. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤:**
   - `plugin.xml`: –æ–±–Ω–æ–≤–∏—Ç—å `<id>`, `<name>`, `<vendor>`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è: `lg.intellij`, `Listing Generator` –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
   - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤—Å–µ –∫–ª–∞—Å—Å—ã: `My*` ‚Üí `Lg*`
     - `MyBundle` ‚Üí `LgBundle`
     - `MyProjectService` ‚Üí `LgProjectService` (–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–∞—Ä–∫–∞—Å)
     - `MyToolWindowFactory` ‚Üí `LgToolWindowFactory`

2. **–°–æ–∑–¥–∞–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ –ø–ª–∞–≥–∏–Ω–∞:**
   - `pluginIcon.svg` (40√ó40, –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ø–æ–¥ light/dark themes)
   - `lg-icon.svg` –¥–ª—è Tool Window (13√ó13)
   
3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `plugin.xml`:**
   - `since-build="241"`, `until-build="243.*"`
   - Description —Å HTML (–∫—Ä–∞—Ç–∫–æ –æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ)
   - –ë–∞–∑–æ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: `com.intellij.modules.platform`

4. **–ë–∞–∑–æ–≤–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è:**
   - `LgBundle.properties` —Å –∫–ª—é—á–∞–º–∏ –¥–ª—è Tool Window, Actions

5. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫:**
   - `./gradlew runIde`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –ø–ª–∞–≥–∏–Ω –≤–∏–¥–µ–Ω –≤ —Å–ø–∏—Å–∫–µ, Tool Window –ø–æ—è–≤–ª—è–µ—Ç—Å—è (—Å placeholder –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º), –∏–∫–æ–Ω–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ `./gradlew runIde` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫  
‚úÖ –ü–ª–∞–≥–∏–Ω –≤–∏–¥–µ–Ω –≤ **Settings ‚Üí Plugins**  
‚úÖ Tool Window "Listing Generator" –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–ø—Ä–∞–≤–∞ —Å placeholder —Ç–µ–∫—Å—Ç–æ–º  
‚úÖ –ò–∫–æ–Ω–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ light/dark —Ç–µ–º–∞—Ö  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `package.json` ‚Üí –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è displayName, description
- `media/lg.svg` ‚Üí —Ä–µ—Ñ–µ—Ä–µ–Ω—Å –¥–∏–∑–∞–π–Ω–∞ –∏–∫–æ–Ω–∫–∏
- README.md (–≤–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å) ‚Üí –¥–ª—è —Ç–µ–∫—Å—Ç–∞ description

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `01-getting-started.md` (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
- `03-plugin-structure.md` (—Å–µ–∫—Ü–∏–∏: plugin.xml –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∏–∫–æ–Ω–∫–∏)

---

## üìã –§–∞–∑–∞ 1: CLI Integration Foundation

### –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ª–æ–π –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–Ω–µ—à–Ω–∏–º CLI –ø—Ä–æ—Ü–µ—Å—Å–æ–º Listing Generator.

### –ó–∞–¥–∞—á–∏

1. **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–∫–µ—Ç–∞ `cli/`:**
   ```
   cli/
   ‚îú‚îÄ‚îÄ CliExecutor.kt       # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
   ‚îú‚îÄ‚îÄ CliResolver.kt       # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ executable
   ‚îú‚îÄ‚îÄ CliException.kt      # Typed exceptions
   ‚îî‚îÄ‚îÄ models/
       ‚îî‚îÄ‚îÄ CliResult.kt     # Sealed class –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   ```

2. **`CliExecutor`:**
   - Suspend —Ñ—É–Ω–∫—Ü–∏—è `execute(args: List<String>): String`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `GeneralCommandLine` + `CapturingProcessHandler`
   - Timeout support (120 sec default)
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π charset (UTF-8)
   - Environment variables: `PYTHONIOENCODING=utf-8`, `PYTHONUTF8=1`
   - stdin support –¥–ª—è `--task -`
   - –í–æ–∑–≤—Ä–∞—Ç typed `CliResult<String>` (Success/Failure/Timeout)

3. **`CliResolver`:**
   - –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–∏—Å–∫–∞: explicit path (–∏–∑ Settings) ‚Üí system PATH ‚Üí fallback "python -m lg.cli"
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ resolved path
   - –ú–µ—Ç–æ–¥ `invalidateCache()` –¥–ª—è –≤—ã–∑–æ–≤–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Settings
   - –ù–∞ —ç—Ç–æ–π —Ñ–∞–∑–µ: **stub implementation** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç hardcoded "listing-generator" (—Ä–µ–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞ –§–∞–∑–µ 2 –ø–æ—Å–ª–µ Settings)

4. **–ü—Ä–æ—Å—Ç–µ–π—à–∏–π —Ç–µ—Å—Ç:**
   - Action `LgTestCliAction` (–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –Ω–µ –≤ plugin.xml)
   - –í—ã–∑–æ–≤ `lg --version` —á–µ—Ä–µ–∑ `CliExecutor`
   - –ü–æ–∫–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —á–µ—Ä–µ–∑ `Messages.showInfoMessage()`
   - –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ **–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ CLI**: mock responses –≤ `CliExecutor` (—Ñ–ª–∞–≥ `USE_MOCK = true`)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ `CliExecutor.execute()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç mock/—Ä–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç  
‚úÖ Timeout –∏ cancellation —Ä–∞–±–æ—Ç–∞—é—Ç  
‚úÖ Exceptions –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ typed (CliException, CliTimeoutException)  
‚úÖ Test action –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é CLI –≤ –¥–∏–∞–ª–æ–≥–µ  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `src/cli/CliClient.ts` ‚Üí –æ–±—â–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- `src/cli/CliResolver.ts` ‚Üí —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–∏—Å–∫–∞ CLI
- `src/runner/LgProcess.ts` ‚Üí spawn logic, timeout, stdin handling

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `10-external-processes.md` (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
- `12-background-tasks.md` (—Å–µ–∫—Ü–∏–∏: Kotlin Coroutines, Dispatchers, suspend functions)

---

## üìã –§–∞–∑–∞ 2: Settings Infrastructure

### –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é Settings —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é, –Ω–æ **–±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –æ—Å—Ç–∞–ª—å–Ω–æ–º –∫–æ–¥–µ (–ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∏).

### –ó–∞–¥–∞—á–∏

1. **`services/state/LgSettingsService`:**
   - Application-level Light Service
   - `@State` —Å storage `lg-settings.xml`, `roamingType = DEFAULT`, `category = TOOLS`
   - `SimplePersistentStateComponent<State>`
   - State fields (–≤—Å–µ –∫–∞–∫ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ):
     ```kotlin
     var cliPath by string("")
     var pythonInterpreter by string("")
     var installStrategy by enum(InstallStrategy.MANAGED_VENV)
     var defaultTokenizerLib by string("tiktoken")
     var defaultEncoder by string("cl100k_base")
     var defaultContextLimit by property(128000)
     var aiProvider by enum(AiProvider.CLIPBOARD)
     var openAsEditable by property(false)
     ```
   - `getInstance()` companion method

2. **`settings/LgSettingsConfigurable`:**
   - –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `BoundConfigurable`
   - Kotlin UI DSL –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
   - –°–µ–∫—Ü–∏–∏ (groups):
     - **CLI Configuration**: CLI Path (textFieldWithBrowseButton), Python Interpreter (textFieldWithBrowseButton), Install Strategy (comboBox)
     - **Tokenization Defaults**: Library (comboBox), Encoder (textField), Context Limit (intTextField —Å validation 1000..2000000)
     - **AI Integration**: Provider (comboBox), OpenAI API Key (passwordField) —Å "Configure" –∫–Ω–æ–ø–∫–æ–π
     - **Editor Behavior**: Open As Editable (checkBox)
   - Validation –¥–ª—è context limit, path existence
   - "Reset to Defaults" button

3. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ `plugin.xml`:**
   ```xml
   <applicationConfigurable 
       parentId="tools"
       instance="lg.intellij.settings.LgSettingsConfigurable"
       id="lg.intellij.settings"
       key="settings.display.name"
       bundle="messages.LgBundle"/>
   ```

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `CliResolver`:**
   - –û–±–Ω–æ–≤–∏—Ç—å stub —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `LgSettingsService.getInstance().state.cliPath` –µ—Å–ª–∏ –Ω–µ –ø—É—Å—Ç–æ–π
   - Listener –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è Settings ‚Üí `CliResolver.invalidateCache()`

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ Settings –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ **Tools ‚Üí Listing Generator**  
‚úÖ –í—Å–µ –ø–æ–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ IDE  
‚úÖ Validation —Ä–∞–±–æ—Ç–∞–µ—Ç (error –¥–ª—è invalid values)  
‚úÖ Reset to Defaults –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è  
‚úÖ CliResolver —Ç–µ–ø–µ—Ä—å —á–∏—Ç–∞–µ—Ç CLI path –∏–∑ Settings  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `package.json` ‚Üí —Å–µ–∫—Ü–∏—è `configuration` (–≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Settings)
- –ù–∏–∫–∞–∫–æ–≥–æ UI –∫–æ–¥–∞ (Settings –≤ VS Code ‚Äî —ç—Ç–æ JSON schema, –≤ IntelliJ ‚Äî Kotlin UI DSL)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `07-kotlin-ui-dsl.md` (–ø–æ–ª–Ω–æ—Å—Ç—å—é ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –≤–µ—Ä—Å—Ç–∫–∏ Settings)
- `11-settings.md` (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
- `14-persistence.md` (—Å–µ–∫—Ü–∏–∏: SimplePersistentStateComponent, Storage, Roaming)

---

## üìã –§–∞–∑–∞ 3: Tool Window Structure (–∫–∞—Ä–∫–∞—Å)

### –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É Tool Window —Å –¥–≤—É–º—è –≤–∫–ª–∞–¥–∫–∞–º–∏ (Control Panel –∏ Included Files), –Ω–æ —Å **placeholder –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º**. –í–µ—Ä—Å—Ç–∫–∞ –ø–∞–Ω–µ–ª–µ–π –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–∑—ã.

### –ó–∞–¥–∞—á–∏

1. **`ui/toolwindow/LgToolWindowFactory`:**
   - Implements `ToolWindowFactory`, `DumbAware`
   - `init()`: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–≤–æ–π—Å—Ç–≤ (stripe title, icon)
   - `isApplicableAsync()`: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `lg-cfg/` –≤ –ø—Ä–æ–µ–∫—Ç–µ (suspend function –Ω–∞ Dispatchers.IO)
   - `createToolWindowContent()`: —Å–æ–∑–¥–∞–Ω–∏–µ –¥–≤—É—Ö –≤–∫–ª–∞–¥–æ–∫

2. **–î–≤–µ –≤–∫–ª–∞–¥–∫–∏ (tabs):**
   - **Control Panel** (`ui/toolwindow/LgControlPanel`) ‚Äî placeholder: `JLabel("Control Panel ‚Äî Coming Soon")`
   - **Included Files** (`ui/toolwindow/LgIncludedFilesPanel`) ‚Äî placeholder: `JLabel("Included Files ‚Äî Coming Soon")`
   - –û–±–µ –Ω–∞—Å–ª–µ–¥—É—é—Ç `SimpleToolWindowPanel(vertical=true, borderless=true)`
   - Closeable: false –¥–ª—è –æ–±–µ–∏—Ö

3. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ `plugin.xml`:**
   ```xml
   <toolWindow 
       id="Listing Generator"
       anchor="right"
       factoryClass="lg.intellij.ui.toolwindow.LgToolWindowFactory"
       icon="icons.LgIcons.ToolWindow"/>
   ```

4. **`icons/LgIcons.kt`:**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –∏–∫–æ–Ω–æ–∫ —á–µ—Ä–µ–∑ `IconLoader`
   - `ToolWindow`, `Generate`, `Refresh`, `Settings` –∏ –¥—Ä.

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ Tool Window "Listing Generator" –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–ø—Ä–∞–≤–∞  
‚úÖ –î–≤–µ –≤–∫–ª–∞–¥–∫–∏: "Control Panel" –∏ "Included Files"  
‚úÖ –ö–∞–∂–¥–∞—è –≤–∫–ª–∞–¥–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç placeholder —Ç–µ–∫—Å—Ç  
‚úÖ Tool Window **–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è** –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –±–µ–∑ `lg-cfg/`  
‚úÖ –ò–∫–æ–Ω–∫–∞ Tool Window –≤–∏–¥–Ω–∞ –Ω–∞ –ø–æ–ª–æ—Å–µ  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `package.json` ‚Üí —Å–µ–∫—Ü–∏—è `views` (–Ω–∞–∑–≤–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫)
- `media/control.html` ‚Üí –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Control Panel (–¥–ª—è –±—É–¥—É—â–µ–π –§–∞–∑—ã 4)
- –ù–∏–∫–∞–∫–æ–π UI –ª–æ–≥–∏–∫–∏ –ø–æ–∫–∞ –Ω–µ –Ω—É–∂–µ–Ω

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `06-tool-windows.md` (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
- `02-architecture.md` (—Å–µ–∫—Ü–∏–∏: DumbAware, Disposable, Service scopes)

---

## üìã –§–∞–∑–∞ 4: Control Panel UI (–ø–æ–ª–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞)

### –¶–µ–ª—å
–°–≤–µ—Ä—Å—Ç–∞—Ç—å **–ø–æ–ª–Ω–æ—Å—Ç—å—é** Control Panel —Å–æ –≤—Å–µ–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Kotlin UI DSL. –í—Å–µ –∫–Ω–æ–ø–∫–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã, –Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–∞–≥–ª—É—à–∫–∏ ("Not implemented yet" notifications). –î–∞–Ω–Ω—ã–µ –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞—Ö ‚Äî hardcoded mock —Å–ø–∏—Å–∫–∏.

### –ó–∞–¥–∞—á–∏

1. **`ui/toolwindow/LgControlPanel` (–ø–æ–ª–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞):**
   
   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Kotlin UI DSL** —á–µ—Ä–µ–∑ `panel { }`:
   
   - **Group "AI Contexts":**
     - Row: Template selector (ComboBox) ‚Äî mock items: `["default", "api-docs", "review"]`
     - Row: Buttons ‚Äî "Send to AI", "Generate Context", "Show Context Stats"
     - Task text field (JTextArea —Å auto-expand –∏–ª–∏ EditorTextField) ‚Äî placeholder "Describe current task"

   - **Group "Adaptive Settings":**
     - Dynamic rows –¥–ª—è mode-sets (–ø–æ–∫–∞ hardcoded: –æ–¥–∏–Ω mode-set "dev-stage" —Å modes: planning/development/review)
     - "Configure Tags" button ‚Üí stub notification
     - Target Branch selector (ComboBox) ‚Äî visibility —á–µ—Ä–µ–∑ `visibleIf()` –∫–æ–≥–¥–∞ mode == "review"
     - Mock branches: `["main", "develop", "feature/xyz"]`

   - **Group "Inspect":**
     - Row: Section selector (ComboBox) ‚Äî mock items: `["all", "core", "tests"]`
     - Row: Buttons ‚Äî "Show Included", "Generate Listing", "Show Stats"

   - **Group "Tokenization Settings":**
     - Row: Library (ComboBox) ‚Äî hardcoded: `["tiktoken", "tokenizers", "sentencepiece"]`
     - Row: Encoder (JTextField —Å placeholder) ‚Äî mock validation
     - Row: Context Limit (intTextField —Å range 1000..2000000)

   - **Group "Utilities":**
     - Buttons: "Create Starter Config", "Open Config", "Doctor", "Reset Cache", "Settings"

2. **Button Actions (–≤—Å–µ —á–µ—Ä–µ–∑ stub):**
   - –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –≤—ã–∑—ã–≤–∞–µ—Ç notification: `"Feature 'X' ‚Äî Coming in Phase N"`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è IntelliJ `NotificationGroupManager` –¥–ª—è balloon notifications

3. **State binding (mock):**
   - –°–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π `LgPanelStateService` (–ø—É—Å—Ç–æ–π State)
   - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã **–±–∏–Ω–¥—è—Ç—Å—è** –∫ state properties, –Ω–æ state –ø–æ–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∏–∫–µ–º

4. **Toolbar –¥–ª—è Control Panel:**
   - Actions: Refresh (stub), Settings (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Settings —á–µ—Ä–µ–∑ `ShowSettingsUtil`)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ Control Panel –≤—ã–≥–ª—è–¥–∏—Ç **–≤–∏–∑—É–∞–ª—å–Ω–æ –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã–º** (–∫–∞–∫ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π UI)  
‚úÖ –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ Selectors —Å–æ–¥–µ—Ä–∂–∞—Ç mock –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–±–æ—Ä  
‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã –∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç stub notifications  
‚úÖ Task text field —Ä–∞–±–æ—Ç–∞–µ—Ç (–º–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç, –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ session memory)  
‚úÖ Target Branch selector **—Å–∫—Ä—ã—Ç** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, **–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è** –ø—Ä–∏ –≤—ã–±–æ—Ä–µ "review" mode  
‚úÖ UI –∞–¥–∞–ø—Ç–∏–≤–µ–Ω –∫ —à–∏—Ä–∏–Ω–µ –ø–∞–Ω–µ–ª–∏ (Kotlin UI DSL layout —Ä–∞–±–æ—Ç–∞–µ—Ç)  
‚úÖ Settings button –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Settings page  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `media/control.html` (–ø–æ–ª–Ω–æ—Å—Ç—å—é) ‚Üí —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ UI, –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- `media/control.css` ‚Üí –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≥—Ä—É–ø–ø, spacing (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ Kotlin UI DSL gaps)
- `media/control.js` ‚Üí –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π (visibility conditions)
- `src/views/ControlPanelView.ts` ‚Üí –ª–æ–≥–∏–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è UI (–ø–æ–∫–∞ –ù–ï —Ä–µ–∞–ª–∏–∑—É–µ–º, —Ç–æ–ª—å–∫–æ –ø–æ–Ω–∏–º–∞–µ–º)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `07-kotlin-ui-dsl.md` (–ø–æ–ª–Ω–æ—Å—Ç—å—é ‚Äî –æ—Å–Ω–æ–≤–∞ –≤–µ—Ä—Å—Ç–∫–∏)
- `05-ui-components.md` (—Å–µ–∫—Ü–∏–∏: ComboBox, TextField, Buttons, Checkboxes)
- `13-notifications.md` (—Å–µ–∫—Ü–∏–∏: —Å–æ–∑–¥–∞–Ω–∏–µ notifications, types, actions)

---

## üìã –§–∞–∑–∞ 5: Catalog Services (–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö)

### –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–æ–≤ sections/contexts/mode-sets/tag-sets/encoders –∏–∑ CLI –∏ **–∑–∞–º–µ–Ω–∏—Ç—å** mock –¥–∞–Ω–Ω—ã–µ –≤ Control Panel –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ.

### –ó–∞–¥–∞—á–∏

1. **`services/catalog/LgCatalogService` (Project-level):**
   - Injected: `Project`, `CoroutineScope`
   - Properties (StateFlow):
     ```kotlin
     val sections: StateFlow<List<String>>
     val contexts: StateFlow<List<String>>
     val modeSets: StateFlow<ModeSetsList>
     val tagSets: StateFlow<TagSetsList>
     ```
   - –ú–µ—Ç–æ–¥—ã:
     ```kotlin
     suspend fun loadAll()
     suspend fun reload()
     private suspend fun loadSections()
     private suspend fun loadContexts()
     private suspend fun loadModeSets()
     private suspend fun loadTagSets()
     ```
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `CliExecutor.execute(["list", "sections"])` –∏ —Ç.–¥.
   - –ü–∞—Ä—Å–∏–Ω–≥ JSON —á–µ—Ä–µ–∑ `kotlinx.serialization` –∏–ª–∏ `jackson`
   - Parallel loading –≤—Å–µ—Ö —Å–ø–∏—Å–∫–æ–≤ —á–µ—Ä–µ–∑ `coroutineScope { launch { } }`

2. **`services/catalog/TokenizerCatalogService` (Application-level):**
   - `StateFlow<List<String>>` –¥–ª—è libraries
   - `suspend fun getEncoders(lib: String): List<EncoderEntry>`
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ encoders list (TTL 1 hour –∏–ª–∏ –¥–æ invalidation)
   - –ú–µ—Ç–æ–¥—ã: `getLibraries()`, `getEncoders()`, `invalidate()`

3. **`models/` data classes:**
   - `ModeSetsList`, `ModeSet`, `Mode` (–ø–æ JSON schema CLI)
   - `TagSetsList`, `TagSet`, `Tag`
   - `EncoderEntry(name: String, cached: Boolean)`

4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `LgControlPanel`:**
   - –£–¥–∞–ª–∏—Ç—å hardcoded mock —Å–ø–∏—Å–∫–∏
   - –í `init { }` –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ—Ä—É—Ç–∏–Ω—É: `scope.launch { catalogService.loadAll() }`
   - –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ StateFlow: 
     ```kotlin
     scope.launch {
         catalogService.sections.collect { sections ->
             withContext(Dispatchers.EDT) {
                 updateSectionsUI(sections)
             }
         }
     }
     ```
   - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è contexts, modeSets, tagSets, encoders

5. **VFS Listener –¥–ª—è auto-reload:**
   - `listeners/LgConfigFileListener` (Project-level)
   - –°–ª—É—à–∞–µ—Ç `BulkFileListener` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `lg-cfg/`
   - Debounce (500ms)
   - –í—ã–∑–æ–≤ `catalogService.reload()`

6. **Refresh Action (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - `actions/LgRefreshCatalogsAction`
   - –í—ã–∑–æ–≤ `catalogService.

   - `actions/LgRefreshCatalogsAction`
   - –í—ã–∑–æ–≤ `catalogService.reload()` —Å Progress indicator
   - Notification –ø—Ä–∏ —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Control Panel toolbar

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ Control Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–µ** sections/contexts –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å lg-cfg/)  
‚úÖ Mode-sets –∏ tag-sets –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏  
‚úÖ Encoders list –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏  
‚úÖ –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –≤ `lg-cfg/` (—á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä) ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π reload —á–µ—Ä–µ–∑ ~500ms  
‚úÖ Refresh button –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —Å–ø–∏—Å–∫–∏  
‚úÖ –ï—Å–ª–∏ CLI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí Error notification —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º Configure Settings  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `src/services/CatalogService.ts` (–ø–æ–ª–Ω–æ—Å—Ç—å—é) ‚Üí API –º–µ—Ç–æ–¥–æ–≤, JSON parsing
- `src/views/ControlPanelView.ts` ‚Üí —Å–µ–∫—Ü–∏–∏ `pushListsAndState()`, –æ–±—Ä–∞–±–æ—Ç–∫–∞ message "data"
- `media/control.js` ‚Üí –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ Flow collectors)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `04-services.md` (—Å–µ–∫—Ü–∏–∏: Light Services, CoroutineScope injection, StateFlow patterns)
- `12-background-tasks.md` (—Å–µ–∫—Ü–∏–∏: Coroutines, parallel execution, withContext)
- `09-vfs.md` (—Å–µ–∫—Ü–∏–∏: BulkFileListener, VFS events)

---

## üìã –§–∞–∑–∞ 6: State Management Services

### –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ state services –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è UI –º–µ–∂–¥—É —Å–µ–∞–Ω—Å–∞–º–∏ –∏ —Å–≤—è–∑–∞—Ç—å –∏—Ö —Å Control Panel –¥–ª—è **—Ä–µ–∞–ª—å–Ω–æ–π –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏**.

### –ó–∞–¥–∞—á–∏

1. **`services/state/LgPanelStateService` (Project-level):**
   - Storage: `StoragePathMacros.WORKSPACE_FILE` (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è)
   - State fields:
     ```kotlin
     var selectedSection by string("all")
     var selectedTemplate by string("")
     var tokenizerLib by string("") // Empty = use default from app settings
     var encoder by string("")
     var contextLimit by property(0) // 0 = use default
     var modes by map<String, String>() // modeset -> mode
     var tags by stringSet()
     var taskText by string("")
     var targetBranch by string("")
     ```
   - –ú–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è **effective** values (—Å fallback –Ω–∞ application defaults):
     ```kotlin
     fun getEffectiveTokenizerLib(): String
     fun getEffectiveEncoder(): String  
     fun getEffectiveContextLimit(): Int
     ```

2. **`services/state/LgWorkspaceStateService` (Project-level):**
   - Storage: workspace file
   - State:
     ```kotlin
     var includedFilesViewMode by enum(ViewMode.TREE)
     var toolWindowTabIndex by property(0)
     ```

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `LgControlPanel`:**
   - –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `LgPanelStateService`
   - –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ (ComboBox.addActionListener, TextField document listener) ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ state
   - Two-way binding —á–µ—Ä–µ–∑ debounced listeners (–¥–ª—è text fields)

4. **Default values logic:**
   - –ï—Å–ª–∏ `state.tokenizerLib.isBlank()` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `LgSettingsService.state.defaultTokenizerLib`
   - –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ Control Panel ‚Üí –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∏–∑ app defaults
   - UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç effective values

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ –í—ã–±—Ä–∞–Ω–Ω—ã–µ section/template —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É reopens Tool Window  
‚úÖ Tokenization parameters —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è  
‚úÖ Modes –∏ tags —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è  
‚úÖ Task text —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è  
‚úÖ Defaults –∏–∑ Application Settings –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –µ—Å–ª–∏ project state –ø—É—Å—Ç–æ–π  
‚úÖ View mode –¥–ª—è Included Files —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `src/views/ControlPanelView.ts` ‚Üí —Å–µ–∫—Ü–∏–∏ `getState()`, `setState()`, state management
- `media/control.js` ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞ `data-state-key`, change events
- –õ–æ–≥–∏–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑ `vscode.getState()`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `14-persistence.md` (—Å–µ–∫—Ü–∏–∏: SimplePersistentStateComponent, State delegates, workspace storage)
- `07-kotlin-ui-dsl.md` (—Å–µ–∫—Ü–∏–∏: data binding, onChanged callbacks)

---

## üìã –§–∞–∑–∞ 7: Generation Services Foundation

### –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ listings –∏ contexts, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–æ–π **modal dialog** —Å `JTextArea` (–Ω–µ LightVirtualFile). –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é —Ü–µ–ø–æ—á–∫—É –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º.

### –ó–∞–¥–∞—á–∏

1. **`services/generation/LgGenerationService` (Project-level):**
   - –ú–µ—Ç–æ–¥—ã:
     ```kotlin
     suspend fun generateListing(section: String): String
     suspend fun generateContext(template: String): String
     ```
   - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ CLI args –∏–∑ `LgPanelStateService` state
   - Mapping modes/tags ‚Üí `--mode`, `--tags` args
   - Task text handling: –µ—Å–ª–∏ –Ω–µ –ø—É—Å—Ç–æ–π ‚Üí `--task -` + stdin
   - Target branch ‚Üí `--target-branch` arg
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `CliExecutor.execute()` –∏–ª–∏ `executeWithStdin()`

2. **`utils/CliArgsBuilder`:**
   - Helper –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:
     ```kotlin
     fun buildRenderArgs(
         target: String,
         params: GenerationParams
     ): Pair<List<String>, String?>  // (args, stdinData)
     ```
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

3. **`actions/LgGenerateListingAction` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - `actionPerformed()`:
     ```kotlin
     val section = panelState.state.selectedSection
     withBackgroundProgress(project, "Generating listing...") {
         val output = generationService.generateListing(section)
         withContext(Dispatchers.EDT) {
             showOutputDialog(output, "Listing ‚Äî $section")
         }
     }
     ```
   - `update()`: enabled —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ project != null

4. **`actions/LgGenerateContextAction` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ listing, –Ω–æ –¥–ª—è context
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: template –Ω–µ –ø—É—Å—Ç–æ–π –≤ `update()`

5. **–í—Ä–µ–º–µ–Ω–Ω—ã–π helper `showOutputDialog()`:**
   - Simple `DialogWrapper` —Å `JTextArea` –≤ `JScrollPane`
   - Read-only, monospace font
   - "Copy to Clipboard" button
   - **TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** "Phase 8: replace with LightVirtualFile in editor"

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ "Generate Listing" ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ modal dialog  
‚úÖ "Generate Context" ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ modal dialog  
‚úÖ Task text –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ stdin –µ—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω  
‚úÖ Modes –∏ tags –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ CLI args  
‚úÖ Target branch –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω review mode  
‚úÖ Progress indicator –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏  
‚úÖ Errors –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ error notifications  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `src/services/ListingService.ts` ‚Üí `runListing()` –ª–æ–≥–∏–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è params
- `src/services/ContextService.ts` ‚Üí `runContext()` –ª–æ–≥–∏–∫–∞
- `src/cli/CliClient.ts` ‚Üí `buildCliArgs()` —Ñ—É–Ω–∫—Ü–∏—è (–æ—Å–Ω–æ–≤–∞ –¥–ª—è CliArgsBuilder)
- `src/views/ControlPanelView.ts` ‚Üí handlers –¥–ª—è generate buttons

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `12-background-tasks.md` (—Å–µ–∫—Ü–∏–∏: withBackgroundProgress, progress reporting)
- `18-dialogs.md` (—Å–µ–∫—Ü–∏–∏: DialogWrapper basics, JTextArea –≤ dialogs)

---

## üìã –§–∞–∑–∞ 8: Virtual File Integration (Editor Display)

### –¶–µ–ª—å
–ó–∞–º–µ–Ω–∏—Ç—å modal dialog –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ **—Ä–µ–¥–∞–∫—Ç–æ—Ä–µ** —Å syntax highlighting —á–µ—Ä–µ–∑ `LightVirtualFile` –∏–ª–∏ temporary files (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Settings).

### –ó–∞–¥–∞—á–∏

1. **`vfs/LgVirtualFileService` (Project-level):**
   - –ú–µ—Ç–æ–¥—ã:
     ```kotlin
     fun openListing(content: String, filename: String)
     fun openContext(content: String, filename: String)
     private fun createVirtualFile(content: String, filename: String): VirtualFile
     private fun createTempFile(content: String, filename: String): VirtualFile
     ```
   - –õ–æ–≥–∏–∫–∞:
     - –ï—Å–ª–∏ `settings.state.openAsEditable == false` ‚Üí `LightVirtualFile` (read-only)
     - –ò–Ω–∞—á–µ ‚Üí temp file –Ω–∞ –¥–∏—Å–∫–µ –≤ system temp dir
   - FileType –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ extension (.md, .yaml, .json)
   - –û—Ç–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ `FileEditorManager.openFile(file, focus=true)`

2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Generation Actions:**
   - –ó–∞–º–µ–Ω–∏—Ç—å `showOutputDialog()` –Ω–∞ `virtualFileService.openListing()`
   - –£–¥–∞–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π dialog helper

3. **Filename generation:**
   - Listing: `"Listing ‚Äî {section}.md"`
   - Context: `"Context ‚Äî {template}.md"`
   - Sanitize –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤ (—É–±—Ä–∞—Ç—å `/`, `:` –∏ –¥—Ä. unsafe chars)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ Generated content –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ **editor tab** —Å Markdown syntax highlighting  
‚úÖ Read-only mode: —Ñ–∞–π–ª –Ω–µ–ª—å–∑—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å (LightVirtualFile)  
‚úÖ Editable mode: temp —Ñ–∞–π–ª –Ω–∞ –¥–∏—Å–∫–µ, –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å  
‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —á–µ—Ä–µ–∑ Settings —Ä–∞–±–æ—Ç–∞–µ—Ç  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `src/views/VirtualDocProvider.ts` (–ø–æ–ª–Ω–æ—Å—Ç—å—é) ‚Üí –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞, sanitization
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ `lg://` URI scheme (–≤ IntelliJ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ LightVirtualFile)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `09-vfs.md` (—Å–µ–∫—Ü–∏–∏: VirtualFile, LightVirtualFile, FileType)
- `20-editor-api.md` (—Å–µ–∫—Ü–∏–∏: FileEditorManager, opening files)

---

## üìã –§–∞–∑–∞ 9: Statistics Dialog (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)

### –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `LgStatsDialog` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å **–ø—Ä–æ—Å—Ç–æ–π –Ω–∞—Ç–∏–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π** (–±–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏). Grouped table –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –§–∞–∑—É 12.

### –ó–∞–¥–∞—á–∏

1. **`services/generation/LgStatsService` (Project-level):**
   - –ú–µ—Ç–æ–¥:
     ```kotlin
     suspend fun getStats(target: String): ReportSchema
     ```
   - –í—ã–∑–æ–≤ `lg report ctx:... / sec:...` —á–µ—Ä–µ–∑ `CliExecutor`
   - –ü–∞—Ä—Å–∏–Ω–≥ JSON –≤ typed `ReportSchema` data class

2. **`models/ReportSchema` –∏ nested classes:**
   - –ü–æ JSON schema –∏–∑ CLI
   - `ReportSchema`, `TotalsData`, `FileRow`, `ContextBlock`

3. **`ui/dialogs/LgStatsDialog`:**
   - –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `DialogWrapper`
   - Resizable, initial size 800√ó600
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —á–µ—Ä–µ–∑ Kotlin UI DSL:
     
     - **Top section:** Summary cards (groups)
       - Source Data (size, tokens raw)
       - Processed Data (tokens processed, saved)
       - Rendered Data (–µ—Å–ª–∏ –µ—Å—Ç—å)
       - Final Rendered (–¥–ª—è contexts)
     
     - **Middle section:** Task text field (JTextArea, editable)
       - onChange ‚Üí debounced refresh stats
     
     - **Main section:** Files table
       - **–í—Ä–µ–º–µ–Ω–Ω–æ:** –ø—Ä–æ—Å—Ç–æ–π `JBTable` —Å columns: Path, Size, Raw, Processed, Saved, Saved%, Prompt%, Ctx%
       - **TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** "Phase 12: replace with LgGroupedTable component"
       - Sorting –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `TableRowSorter`)
       - Filter text field (–ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∏–ª—å—Ç—Ä –ø–æ path)
     
     - **Bottom section (collapsible):**
       - Adapter Metrics (key-value pairs –≤ –ø—Ä–æ—Å—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ)
       - Raw JSON viewer (JTextArea, read-only, monospace)

4. **Actions –≤ dialog toolbar:**
   - **Refresh** ‚Äî –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å stats —Å —Ç–µ–∫—É—â–∏–º task text
   - **Send to AI** ‚Äî stub notification "Phase 10"
   - **Generate** ‚Äî stub notification "Phase 10"
   - **Copy JSON** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å (–≤ clipboard)

5. **`actions/LgShowStatsAction` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ target: context –∏–ª–∏ section (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –≤ Control Panel)
   - –í—ã–∑–æ–≤ `statsService.getStats()`
   - –û—Ç–∫—Ä—ã—Ç–∏–µ `LgStatsDialog`

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ "Show Stats" / "Show Context Stats" buttons –æ—Ç–∫—Ä—ã–≤–∞—é—Ç stats dialog  
‚úÖ Summary cards –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏  
‚úÖ Task text field —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π, –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–∏–≥–≥–µ—Ä—è—Ç refresh  
‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º  
‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ path —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ Adapter metrics –∏ raw JSON –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ collapsible sections  
‚úÖ Copy JSON –∫–æ–ø–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π JSON –≤ clipboard  
‚úÖ Dialog responsive –∏ resizable  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `media/stats.html` (–ø–æ–ª–Ω–æ—Å—Ç—å—é) ‚Üí —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ UI
- `media/stats.css` ‚Üí styling reference (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ Swing constraints)
- `media/stats.js` ‚Üí –ª–æ–≥–∏–∫–∞ render, –∫–∞—Ä—Ç—ã, —Ç–∞–±–ª–∏—Ü—ã
- `src/views/StatsWebview.ts` ‚Üí –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, refetch logic

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `18-dialogs.md` (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
- `05-ui-components.md` (—Å–µ–∫—Ü–∏–∏: JBTable, JTextArea, JScrollPane)
- `07-kotlin-ui-dsl.md` (—Å–µ–∫—Ü–∏–∏: groups, collapsible groups, scrollCell)

---

## üìã –§–∞–∑–∞ 10: AI Integration Services

### –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `AiIntegrationService` –∏ –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Clipboard, GitHub Copilot, Cursor), –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å "Send to AI" functionality –≤–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö.

### –ó–∞–¥–∞—á–∏

1. **`services/ai/AiIntegrationService` (Application-level):**
   - Registry –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤: `Map<String, AiProvider>`
   - –ú–µ—Ç–æ–¥—ã:
     ```kotlin
     fun registerProvider(provider: AiProvider)
     suspend fun detectBestProvider(): String
     suspend fun sendTo(providerId: String, content: String)
     fun getAvailableProviders(): List<String>
     ```
   - Auto-detection –ø—Ä–∏ plugin startup
   - Fallback –Ω–∞ clipboard –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ—Ç–µ–∫—Ç–∏—Ç—Å—è

2. **`services/ai/AiProvider` interface:**
   ```kotlin
   interface AiProvider {
       val id: String
       val name: String
       suspend fun send(content: String)
   }
   ```

3. **–ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
   
   - **`ClipboardProvider`:**
     - `vscode.env.clipboard.writeText()` ‚Üí `CopyPasteManager.getInstance().setContents()`
     - Success notification
   
   - **`CopilotProvider`:**
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è GitHub Copilot extension —á–µ—Ä–µ–∑ `ExtensionPointName`
     - –í—ã–∑–æ–≤ –∫–æ–º–∞–Ω–¥—ã (–µ—Å–ª–∏ –µ—Å—Ç—å public API) –∏–ª–∏ fallback –Ω–∞ clipboard + –æ—Ç–∫—Ä—ã—Ç–∏–µ Copilot Chat
   
   - **`CursorProvider`:**
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ Cursor IDE —á–µ—Ä–µ–∑ –¥–æ—Å—Ç—É–ø–Ω—ã–µ commands (`vscode.commands.getCommands()` –∞–Ω–∞–ª–æ–≥)
     - –í—ã–∑–æ–≤ Cursor Composer –∫–æ–º–∞–Ω–¥—ã –∏–ª–∏ fallback

4. **`actions/LgSendToAiAction` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: context –∏–ª–∏ listing (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Control Panel state)
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `LgGenerationService`
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ `AiIntegrationService.sendTo(providerId, content)`
   - Provider ID –∏–∑ `LgSettingsService.state.aiProvider`
   - Error handling: notification —Å fallback "Copy to Clipboard"

5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Stats Dialog:**
   - "Send to AI" button ‚Üí –≤—ã–∑–æ–≤ `AiIntegrationService` —Å —Ç–µ–∫—É—â–∏–º content
   - "Generate" button ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è + –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤ editor

6. **Provider Selection UI –≤ Settings:**
   - ComboBox –≤ AI Integration —Å–µ–∫—Ü–∏–∏
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ `getAvailableProviders()`

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ Clipboard provider —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–æ–ø–∏—Ä—É–µ—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç notification)  
‚úÖ Copilot provider –¥–µ—Ç–µ–∫—Ç–∏—Ç—Å—è –µ—Å–ª–∏ extension —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω  
‚úÖ Cursor provider –¥–µ—Ç–µ–∫—Ç–∏—Ç—Å—è –≤ Cursor IDE  
‚úÖ "Send to AI" –≤ Control Panel —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ "Send to AI" –≤ Stats Dialog —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ Provider –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Settings  
‚úÖ Best provider –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `src/services/ai/` (–≤—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è) ‚Üí –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã, –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- `src/extension.ts` ‚Üí –ª–æ–≥–∏–∫–∞ detectBestProvider
- `src/views/ControlPanelView.ts` ‚Üí handler `onSendToAI()`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `02-architecture.md` (—Å–µ–∫—Ü–∏–∏: Extension Points, Service Locator, Message Bus)
- `13-notifications.md` (—Å–µ–∫—Ü–∏–∏: notifications —Å actions, error handling)

---

## üìã –§–∞–∑–∞ 11: Included Files Tree View

### –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ —Ñ–∞–π–ª–æ–≤ –≤–æ –≤—Ç–æ—Ä–æ–π –≤–∫–ª–∞–¥–∫–µ Tool Window —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º flat/tree —Ä–µ–∂–∏–º–æ–≤.

### –ó–∞–¥–∞—á–∏

1. **`ui/toolwindow/LgIncludedFilesPanel` (–ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `SimpleToolWindowPanel`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `Tree` component —Å `DefaultTreeModel`
   - –î–≤–∞ —Ä–µ–∂–∏–º–∞:
     - **Flat:** –≤—Å–µ —Ñ–∞–π–ª—ã –∫–∞–∫ flat list —Å –ø–æ–ª–Ω—ã–º–∏ –ø—É—Ç—è–º–∏
     - **Tree:** hierarchical —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º
   
2. **Tree building logic:**
   - –ú–µ—Ç–æ–¥ `buildFlatTree(paths: List<String>)`
   - –ú–µ—Ç–æ–¥ `buildHierarchicalTree(paths: List<String>)`
   - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ —á–µ—Ä–µ–∑ map-based –ø–æ–¥—Ö–æ–¥ (–∫–∞–∫ –≤ VS Code)

3. **`ui/renderers/FileTreeCellRenderer`:**
   - `ColoredTreeCellRenderer`
   - Files: file type icon + name
   - Directories: folder icon + name (bold)

4. **Tree interactions:**
   - Double-click ‚Üí –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞ –≤ editor —á–µ—Ä–µ–∑ `FileEditorManager`
   - Context menu: Open File, Copy Path, Refresh
   - SpeedSearch (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ Tree)

5. **`actions/LgShowIncludedFilesAction` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - –í—ã–∑–æ–≤ `lg report sec:...` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤
   - –ü–∞—Ä—Å–∏–Ω–≥ `files[]` –º–∞—Å—Å–∏–≤–∞ –∏–∑ `ReportSchema`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `LgIncludedFilesPanel.setPaths()`
   - Auto-switch –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Included Files"

6. **`actions/LgToggleTreeViewModeAction` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - Toggle –º–µ–∂–¥—É FLAT –∏ TREE
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `LgWorkspaceStateService`
   - –ü–µ—Ä–µ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞
   - –î–æ–±–∞–≤–∏—Ç—å –≤ toolbar –≤–∫–ª–∞–¥–∫–∏

7. **Toolbar –¥–ª—è Included Files tab:**
   - Refresh, Toggle View Mode

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ "Show Included" –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ñ–∞–π–ª—ã –≤ –¥–µ—Ä–µ–≤–µ  
‚úÖ Flat mode: –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –ø–ª–æ—Å–∫–æ–º —Å–ø–∏—Å–∫–µ  
‚úÖ Tree mode: hierarchical folders  
‚úÖ Toggle view mode —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è  
‚úÖ Double-click –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ  
‚úÖ Context menu —Å Open/Copy Path —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ Auto-switch –Ω–∞ –≤–∫–ª–∞–¥–∫—É –ø—Ä–∏ –≤—ã–∑–æ–≤–µ "Show Included"  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `src/views/IncludedTree.ts` (–ø–æ–ª–Ω–æ—Å—Ç—å—é) ‚Üí –ª–æ–≥–∏–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è tree/flat, toggle
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ data flow –ø—Ä–∏ "Show Included" button click

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `17-tree-views.md` (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
- `09-vfs.md` (—Å–µ–∫—Ü–∏–∏: VirtualFile navigation, opening files)
- `08-actions.md` (—Å–µ–∫—Ü–∏–∏: ToggleAction)

---

## üìã –§–∞–∑–∞ 12: Grouped Table Component

### –¶–µ–ª—å
–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å **–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** `LgGroupedTable` —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π (–∫–∞–∫ –≤ VS Code Stats webview) –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Stats Dialog.

### –ó–∞–¥–∞—á–∏

1. **`ui/components/LgGroupedTable`:**
   - –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `JPanel` —Å `BorderLayout`
   - –°–æ–¥–µ—Ä–∂–∏—Ç:
     - Toolbar: grouping level control (buttons `‚Üê` `N` `‚Üí` –∏–ª–∏ slider), filter text field
     - `JBTable` —Å custom `TableModel`
   
   - **Grouping logic:**
     - Level 1..N: –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ N —Å–µ–≥–º–µ–Ω—Ç–∞–º –ø—É—Ç–∏
     - Level ‚àû: flat (–±–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏)
     - Group rows: aggregated values (sum –¥–ª—è numeric columns)
     - Indent –¥–ª—è file rows –ø–æ–¥ –≥—Ä—É–ø–ø–∞–º–∏ (—á–µ—Ä–µ–∑ custom renderer)
   
   - **Filtering:**
     - Text filter –ø–æ path –∏–ª–∏ extension
     - Debounced (300ms)
   
   - **Sorting:**
     - Clickable column headers
     - Ascending/descending toggle
     - –ü—Ä–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–µ: —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≥—Ä—É–ø–ø, –∑–∞—Ç–µ–º —Ñ–∞–π–ª–æ–≤ –≤–Ω—É—Ç—Ä–∏

2. **`GroupedTableModel`:**
   - Custom `AbstractTableModel`
   - –ú–µ—Ç–æ–¥—ã: `setData()`, `setGroupLevel()`, `setFilter()`, `setSorting()`
   - Rebuild rows –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `LgStatsDialog`:**
   - –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π `JBTable` –Ω–∞ `LgGroupedTable`
   - –ü–µ—Ä–µ–¥–∞—Ç—å columns config –∏ data –∏–∑ `ReportSchema.files`
   - –£–¥–∞–ª–∏—Ç—å TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ Grouped table –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Stats Dialog  
‚úÖ Grouping level control —Ä–∞–±–æ—Ç–∞–µ—Ç (1..N..‚àû)  
‚úÖ –ì—Ä—É–ø–ø—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç aggregated values  
‚úÖ Sorting —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∫–æ–ª–æ–Ω–æ–∫  
‚úÖ Filter –ø–æ path/extension —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ UI responsive –∏ –Ω–µ –ª–∞–≥–∞–µ—Ç –Ω–∞ 100+ —Ñ–∞–π–ª–∞—Ö  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `media/ui/components/grouped-table/` (–≤—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è) ‚Üí –ø–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `media/stats.js` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ grouped table, columns config
- –õ–æ–≥–∏–∫–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—É—Ç–µ–π, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä—É–ø–ø

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `05-ui-components.md` (—Å–µ–∫—Ü–∏–∏: JBTable, custom TableModel, TableRowSorter)
- `07-kotlin-ui-dsl.md` (—Å–µ–∫—Ü–∏–∏: custom components, cell())

---

## üìã –§–∞–∑–∞ 13: Tags Configuration UI

### –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å UI –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–µ–≥–æ–≤ (–∞–Ω–∞–ª–æ–≥ tags panel –≤ VS Code) –∫–∞–∫ **modal dialog** –≤–º–µ—Å—Ç–æ overlay panel.

### –ó–∞–¥–∞—á–∏

1. **`ui/dialogs/LgTagsDialog`:**
   - `DialogWrapper` —Å title "Configure Tags"
   - Resizable, —Ä–∞–∑–º–µ—Ä 500√ó600
   - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —á–µ—Ä–µ–∑ Kotlin UI DSL:
     - –î–ª—è –∫–∞–∂–¥–æ–≥–æ tag-set: collapsible group —Å checkboxes
     - Checkbox –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ–≥–∞ –≤ set
     - Description –ø–æ–¥ checkbox (–µ—Å–ª–∏ –µ—Å—Ç—å)
   
2. **Data binding:**
   - –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏: –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å checked state –∏–∑ `LgPanelStateService.state.tags`
   - –ü—Ä–∏ Apply: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–µ–≥–∏ –≤ state
   - Return: `Set<String>` –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤

3. **`actions/LgConfigureTagsAction` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è "Configure Tags" button):**
   - –û—Ç–∫—Ä—ã—Ç–∏–µ `LgTagsDialog`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `LgPanelStateService.state.tags`

4. **Visual feedback –≤ Control Panel:**
   - –ï—Å–ª–∏ —Ç–µ–≥–∏ –≤—ã–±—Ä–∞–Ω—ã: –ø–æ–∫–∞–∑–∞—Ç—å badge/indicator —Ä—è–¥–æ–º —Å "Configure Tags" button (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ò–ª–∏ subtitle –ø–æ–¥ button: "5 tags selected"

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ "Configure Tags" button –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç modal dialog  
‚úÖ Tag-sets –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ collapsible groups  
‚úÖ Checkboxes —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å state  
‚úÖ –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–µ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è  
‚úÖ Dialog responsive  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `media/control.html` ‚Üí —Å–µ–∫—Ü–∏—è tags panel (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- `media/control.css` ‚Üí `.tags-panel`, `.tag-set` —Å—Ç–∏–ª–∏ (—Ä–µ—Ñ–µ—Ä–µ–Ω—Å layout)
- `media/control.js` ‚Üí `populateTagSets()`, `onTagChange()` –ª–æ–≥–∏–∫–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `18-dialogs.md` (—Å–µ–∫—Ü–∏–∏: DialogWrapper, resizable dialogs)
- `07-kotlin-ui-dsl.md` (—Å–µ–∫—Ü–∏–∏: collapsibleGroup, checkboxes, groups)

---

## üìã –§–∞–∑–∞ 13.5: Modes Configuration UI

### –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞–º–∏ (–∞–Ω–∞–ª–æ–≥ `mode-sets-container` –∏ `target-branch-container` –≤ VS Code).

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏

–ù–∞–±–æ—Ä—ã —Ä–µ–∂–∏–º–æ–≤ –Ω–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –∏ –ø–æ—Å—Ç—É–ø–∞—é—Ç –∏–∑ CLI –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏.  –°–º–æ—Ç—Ä–µ—Ç—å —É–∂–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å `ModeSetsListSchema.kt` –ø–æ JSON-—Å—Ö–µ–º–µ.

–°–µ–π—á–∞—Å –≤ `lg/intellij/ui/toolwindow/LgControlPanel.kt` —É–∂–µ –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–≥–ª—É—à–∫–∞ (–∏ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞), —á—Ç–æ–±—ã –Ω–∞–º–µ—Ç–∏—Ç—å –º–µ—Å—Ç–æ –≤ –ø–∞–Ω–µ–ª–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞–º–∏. –ù–æ —á—Ç–æ–±—ã –Ω–µ –∑–∞–≥—Ä–æ–º–æ–∂–¥–∞—Ç—å `LgControlPanel.kt` –ª—É—á—à–µ –≤—Å—é –ª–æ–≥–∏–∫—É –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è UI –¥–ª—è —Ä–µ–∂–∏–º–æ–≤ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª. –ù–æ –ø—Ä–∏ —ç—Ç–æ–º –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –≤–∏–∑—É–∞–ª—å–Ω–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –≤–∏–¥–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–æ–≤–æ–≥–æ –æ–∫–Ω–∞, –æ–Ω –ø–æ –ø—Ä–µ–∂–Ω–µ–º—É –¥–æ–ª–∂–µ–Ω –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è –≤ —Ä–∞–∑–¥–µ–ª "Adaptive Settings" –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π –ø–∞–Ω–µ–ª–∏.

–ö–∞–∫ –∏ –≤ **VS Code Extension** –∫–æ–º–±–æ–±–æ–∫—Å –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–µ–ª–µ–≤–æ–π VCS –≤–µ—Ç–∫–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—ã–±—Ä–∞—Ç—å "review" —Ä–µ–∂–∏–º –≤ –ª—é–±–æ–º –∏–∑ –Ω–∞–±–æ—Ä–æ–≤.

–¢–∞–∫ –∫–∞–∫ –º—ã –≤—ã–Ω–æ—Å–∏–º UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞–º–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –∏–∑ `LgControlPanel.kt`, —Ç–æ –Ω–∞–º –¥–ª—è –ª—É—á—à–µ–≥–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è –¥–æ—Å—Ç—É–ø –∫ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–µ—Ä–∞–∑—Ä—ã–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∏ –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –≤–≤–æ–¥–∞. –ü–æ—ç—Ç–æ–º—É –º–µ—Ç–æ–¥ `createLabeledComponent` (non-breakable label+component pair) –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –≤—ã–Ω–µ—Å—Ç–∏, –∫–∞–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—É—é UI.

–ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ `lg/intellij/services/state/LgPanelStateService.kt`, –∞ –∑–∞—Ç–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –≤ –ø–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å `lg/intellij/services/generation/CliArgsBuilder.kt` –¥–ª—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `media/control.html`
- `media/control.css`
- `media/control.js`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `05-ui-components.md`
- `07-kotlin-ui-dsl.md`

---

## üìã –§–∞–∑–∞ 14: Doctor Diagnostics

### –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å diagnostics —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: `lg diag` –≤—ã–∑–æ–≤, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, bundle generation, cache reset.

### –ó–∞–¥–∞—á–∏

1. **`services/LgDiagnosticsService` (Project-level):**
   - –ú–µ—Ç–æ–¥—ã:
     ```kotlin
     suspend fun runDiagnostics(): DiagReport
     suspend fun rebuildCache(): DiagReport
     suspend fun buildBundle(): Pair<DiagReport, String?> // (report, bundlePath)
     ```
   - –í—ã–∑–æ–≤—ã: `lg diag`, `lg diag --rebuild-cache`, `lg diag --bundle`
   - –ü–∞—Ä—Å–∏–Ω–≥ stderr –¥–ª—è bundlePath (regex matching)

2. **`models/DiagReport` –∏ nested classes:**
   - –ü–æ JSON schema
   - `DiagReport`, `DiagConfig`, `DiagCache`, `DiagCheck`, `DiagEnv`

3. **`ui/dialogs/LgDoctorDialog`:**
   - `DialogWrapper`, resizable
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
     - Summary cards: Config, Cache, Contexts, Environment (–∫–∞–∫ –≤ VS Code)
     - Checks table (name, status icon, details)
     - Config details table
     - Cache details table
     - Applied migrations list (–µ—Å–ª–∏ –µ—Å—Ç—å)
     - Raw JSON viewer (collapsible)
   
   - Toolbar:
     - **Refresh** ‚Üí re-run diag
     - **Rebuild Cache** ‚Üí `diag --rebuild-cache`
     - **Build Bundle** ‚Üí `diag --bundle` + notification —Å path
     - **Copy JSON**

4. **`actions/LgRunDoctorAction` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - –í—ã–∑–æ–≤ `diagnosticsService.runDiagnostics()` —Å progress
   - –û—Ç–∫—Ä—ã—Ç–∏–µ `LgDoctorDialog`

5. **`actions/LgResetCacheAction` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - Confirmation dialog: "Reset LG cache?"
   - –í—ã–∑–æ–≤ `diagnosticsService.rebuildCache()`
   - Success notification

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ "Doctor" button –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π dialog  
‚úÖ –í—Å–µ —Å–µ–∫—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏  
‚úÖ Checks table —Å –∏–∫–æ–Ω–∫–∞–º–∏ —Å—Ç–∞—Ç—É—Å–∞ (‚úîÔ∏è‚ö†Ô∏è‚ùå)  
‚úÖ Refresh/Rebuild/Bundle buttons —Ä–∞–±–æ—Ç–∞—é—Ç  
‚úÖ Bundle path –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ notification  
‚úÖ "Reset Cache" –≤ Control Panel —Ä–∞–±–æ—Ç–∞–µ—Ç —Å confirmation  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `src/services/DoctorService.ts` (–ø–æ–ª–Ω–æ—Å—Ç—å—é) ‚Üí API –º–µ—Ç–æ–¥–æ–≤
- `media/doctor.html` + `doctor.js` (–ø–æ–ª–Ω–æ—Å—Ç—å—é) ‚Üí UI —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- `src/views/DoctorWebview.ts` ‚Üí integration logic

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `18-dialogs.md` (—Å–µ–∫—Ü–∏–∏: complex dialogs, tables in dialogs)
- `05-ui-components.md` (—Å–µ–∫—Ü–∏–∏: JBTable, cards layout)

---

## üìã –§–∞–∑–∞ 15: Starter Config Wizard

### –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å wizard –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è `lg-cfg/` —á–µ—Ä–µ–∑ `lg init` —Å preset selection –∏ conflict resolution.

### –ó–∞–¥–∞—á–∏

1. **`services/LgInitService` (Project-level):**
   - –ú–µ—Ç–æ–¥—ã:
     ```kotlin
     suspend fun listPresets(): List<String>
     suspend fun initWithPreset(preset: String, force: Boolean): InitResult
     ```
   - –í—ã–∑–æ–≤—ã: `lg init --list-presets`, `lg init --preset X [--force]`
   - –ü–∞—Ä—Å–∏–Ω–≥ JSON response —Å `ok`, `conflicts[]`, `error`

2. **`models/InitResult`:**
   ```kotlin
   data class InitResult(
       val ok: Boolean,
       val conflicts: List<String> = emptyList(),
       val error: String? = null
   )
   ```

3. **`ui/dialogs/LgInitWizardDialog`:**
   - Simple `DialogWrapper` (–Ω–µ multi-step, —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π)
   - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
     - Label: "Select preset for lg-cfg initialization"
     - ComboBox —Å presets (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏)
     - Description —Ç–µ–∫—É—â–µ–≥–æ preset (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - Apply logic:
     - –í—ã–∑–æ–≤ `initService.initWithPreset()`
     - –ï—Å–ª–∏ conflicts ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å warning dialog: "Overwrite N files?"
     - –ï—Å–ª–∏ Yes ‚Üí –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —Å `force=true`
   - Success ‚Üí –æ—Ç–∫—Ä—ã—Ç—å `lg-cfg/sections.yaml` –≤ editor

4. **`actions/LgCreateStarterConfigAction` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - –û—Ç–∫—Ä—ã—Ç–∏–µ `LgInitWizardDialog`

5. **`actions/LgOpenConfigAction` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å `lg-cfg/sections.yaml`
   - –ï—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–µ–∑ wizard

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ "Create Starter Config" button –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç wizard  
‚úÖ Presets –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ CLI  
‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª—ã  
‚úÖ Conflict resolution —Ä–∞–±–æ—Ç–∞–µ—Ç (force overwrite)  
‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞ ‚Üí sections.yaml –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ editor  
‚úÖ "Open Config" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–ª–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–æ–∑–¥–∞—Ç—å  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `src/starter/StarterConfig.ts` (–ø–æ–ª–Ω–æ—Å—Ç—å—é) ‚Üí –ª–æ–≥–∏–∫–∞ wizard, conflict handling
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ `lg init` protocol

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `18-dialogs.md` (—Å–µ–∫—Ü–∏–∏: basic dialogs, async loading in dialogs)
- `09-vfs.md` (—Å–µ–∫—Ü–∏–∏: creating files, opening in editor)

---

## üìã –§–∞–∑–∞ 16: Git Integration (Optional Dependency)

### –¶–µ–ª—å
–î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Git –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞ –≤–µ—Ç–æ–∫ (–¥–ª—è target branch selector).

### –ó–∞–¥–∞—á–∏

1. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ `build.gradle.kts`:**
   ```kotlin
   bundledPlugin("Git4Idea")
   ```

2. **`plugin.xml`:**
   ```xml
   <depends optional="true" config-file="withGit.xml">
       Git4Idea
   </depends>
   ```

3. **`withGit.xml`:**
   ```xml
   <idea-plugin>
       <!-- Git-specific extensions, –µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è -->
   </idea-plugin>
   ```

4. **`services/git/LgGitService` (Project-level):**
   - –ú–µ—Ç–æ–¥—ã:
     ```kotlin
     fun isGitAvailable(): Boolean
     suspend fun getBranches(): List<String>
     fun getCurrentBranch(): String?
     ```
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `GitRepositoryManager`, `GitRepository`
   - Graceful degradation: –µ—Å–ª–∏ Git plugin –Ω–µ—Ç ‚Üí return emptyList

5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `LgCatalogService`:**
   - –î–æ–±–∞–≤–∏—Ç—å `val branches: StateFlow<List<String>>`
   - –ó–∞–≥—Ä—É–∑–∫–∞ –≤ `loadAll()` —á–µ—Ä–µ–∑ `gitService.getBranches()`
   - –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ Git ‚Üí empty list (target branch selector —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

6. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Control Panel:**
   - Target Branch ComboBox –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ `catalogService.branches`
   - –ï—Å–ª–∏ branches –ø—É—Å—Ç–æ–π ‚Üí ComboBox –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "No Git repository" (disabled)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ –í –ø—Ä–æ–µ–∫—Ç–∞—Ö —Å Git ‚Üí branches –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è  
‚úÖ Target Branch selector –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏  
‚úÖ –¢–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é  
‚úÖ –í –ø—Ä–æ–µ–∫—Ç–∞—Ö –±–µ–∑ Git ‚Üí selector –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "No branches available" –∏ disabled  
‚úÖ –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ Git plugin ‚Üí graceful degradation (–ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫)  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `src/services/GitService.ts` (–ø–æ–ª–Ω–æ—Å—Ç—å—é) ‚Üí API –¥–ª—è Git integration
- `src/views/ControlPanelView.ts` ‚Üí —Å–µ–∫—Ü–∏—è `fetchBranches()`, `populateBranches()`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `19-git-integration.md` (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
- `02-architecture.md` (—Å–µ–∫—Ü–∏–∏: optional dependencies)

---

## üìã –§–∞–∑–∞ 17: TextCompletionField

### –¶–µ–ª—å
–ó–∞–º–µ–Ω–∞ –ø–æ–ª—è `encoderField` –Ω–∞ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π `TextCompletionField`. –ê–Ω–∞–ª–æ–≥ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Autocomplete –≤ VS Code Extension.

### –ó–∞–¥–∞—á–∏

–í **IntelliJ Platform** –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–π –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ—Å–∞–¥–∂–µ—Å—Ç–∞. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å—Ä–∞–∑—É –ø–æ—Å—Ç–∞–≤–ª—è—Ç—å—Å—è —Å –Ω—É–∂–Ω—ã–º –º–∞–∫—Ä–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–º –≤ `com.intellij.openapi.externalSystem.service.ui.completion.*`.

–£ –Ω–∞—Å —Å–µ–π—á–∞—Å, –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ—Ç –≤—ã–≥—Ä—É–∂–µ–Ω–Ω–æ–π –∫–æ–º–ø–∞–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ `TextCompletionField`.

–ü–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π:

- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –ø—Ä–∏–º–µ—Ä—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é `TextCompletionField` (–ø—Ä–∏ –ø–æ–º–æ—â–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ Context7 –∏–ª–∏ WEB –ø–æ–∏—Å–∫–∞).
- –ü–æ–¥—Ä–æ–±–Ω–µ–µ –∏–∑—É—á–∏—Ç—å —Å–∞–º –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –¥–∞–Ω–Ω–æ–≥–æ –º–∞–∫—Ä–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ `cloned/intellij-community/platform/external-system-impl/src/com/intellij/openapi/externalSystem/service/ui/completion/`.
- –ù–∞–π—Ç–∏ –∏ –∏–∑—É—á–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `TextCompletionField` –≤ –≤—ã–∫–∞—á–∞–Ω–Ω—ã—Ö –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ –¥—Ä—É–≥–∏—Ö –ø–ª–∞–≥–∏–Ω–æ–≤ `cloned/*`.

–ü–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞—è —Ä–∞–±–æ—Ç—ã —ç—Ç–æ–≥–æ –º–∞–∫—Ä–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–æ–≤—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é "Control Panel":

- Encoder field: –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞–∫—Ä–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `TextCompletionField`.
- Suggestions –∏–∑ `TokenizerCatalogService.getEncoders(currentLib)`.
- Auto-reload suggestions –ø—Ä–∏ —Å–º–µ–Ω–µ library.
- –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —ç–Ω–∫–æ–¥–µ—Ä–∞ (–≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞) –≤ `LgPanelStateService` –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø–ª–∞–≥–∏–Ω–µ.

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ Encoder field –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç autocomplete popup –ø—Ä–∏ typing  
‚úÖ Custom encoder values –º–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å
‚úÖ –î–∞–Ω–Ω—ã–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —ç–Ω–∫–æ–¥–µ—Ä–∞ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ CLI

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `media/ui/components/autosuggest/` (–≤—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è) ‚Üí —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è autocomplete
- `media/control.js` ‚Üí –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–∞–±–æ—Ç–∞ —Å –ø–æ–ª–µ–º `encoderAutosuggest`
- `src/views/ControlPanelView.ts` ‚Üí –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–∞–±–æ—Ç–∞ —Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ encoders (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –æ—Ç —Å–º–µ–Ω—ã –±–∏–±–ª–∏–æ—Ç–µ–∫)

---

## üìã –§–∞–∑–∞ 18: Actions Shortcuts & Menu Integration

### –¶–µ–ª—å
–î–æ–±–∞–≤–∏—Ç—å keyboard shortcuts –¥–ª—è –≥–ª–∞–≤–Ω—ã—Ö Actions –∏ —Å–æ–∑–¥–∞—Ç—å Action Group –≤ Tools menu.

### –ó–∞–¥–∞—á–∏

1. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `plugin.xml`:**
   
   ```xml
   <actions>
       <group id="LgMainGroup" 
              text="Listing Generator" 
              popup="true"
              icon="icons.LgIcons.Group">
           
           <action id="LgGenerateListing" 
                   class="lg.intellij.actions.LgGenerateListingAction"
                   text="Generate Listing"
                   icon="icons.LgIcons.Generate">
               <keyboard-shortcut 
                   keymap="$default" 
                   first-keystroke="control alt L"/>
           </action>
           
           <action id="LgGenerateContext"
                   class="lg.intellij.actions.LgGenerateContextAction"
                   text="Generate Context"
                   icon="icons.LgIcons.Generate">
               <keyboard-shortcut 
                   keymap="$default" 
                   first-keystroke="control alt C"/>
           </action>
           
           <action id="LgSendToAi"
                   class="lg.intellij.actions.LgSendToAiAction"
                   text="Send to AI">
               <keyboard-shortcut 
                   keymap="$default" 
                   first-keystroke="control alt A"/>
           </action>
           
           <separator/>
           
           <action id="LgShowStats" class="..."/>
           <action id="LgShowIncluded" class="..."/>
           
           <separator/>
           
           <action id="LgCreateConfig" class="..."/>
           <action id="LgOpenConfig" class="..."/>
           <action id="LgRunDoctor" class="..."/>
           
           <add-to-group group-id="ToolsMenu" anchor="last"/>
       </group>
   </actions>
   ```

2. **Override text –¥–ª—è —Ä–∞–∑–Ω—ã—Ö places:**
   - Main menu: –∫–æ—Ä–æ—Ç–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è
   - Toolbar: –∏–∫–æ–Ω–∫–∏ + optional —Ç–µ–∫—Å—Ç
   - Find Action: –ø–æ–ª–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è

3. **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö Actions:**
   - –û–±–Ω–æ–≤–∏—Ç—å `LgBundle.properties` —Å action.* –∫–ª—é—á–∞–º–∏

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ **Tools ‚Üí Listing Generator** submenu —Å–æ –≤—Å–µ–º–∏ actions  
‚úÖ Keyboard shortcuts —Ä–∞–±–æ—Ç–∞—é—Ç:  
   - Ctrl+Alt+L ‚Üí Generate Listing  
   - Ctrl+Alt+C ‚Üí Generate Context  
   - Ctrl+Alt+A ‚Üí Send to AI  
‚úÖ Find Action (Ctrl+Shift+A) –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ LG actions  
‚úÖ –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ä—É—Å—Å–∫–∏–π bundle –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `package.json` ‚Üí —Å–µ–∫—Ü–∏—è `commands` (–Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥)
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ keybindings (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ IntelliJ modifiers)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `08-actions.md` (–ø–æ–ª–Ω–æ—Å—Ç—å—é ‚Äî –∫–ª—é—á–µ–≤–∞—è –¥–ª—è —ç—Ç–æ–π —Ñ–∞–∑—ã)
- `03-plugin-structure.md` (—Å–µ–∫—Ü–∏–∏: Actions registration, keyboard shortcuts, localization)

---

## üìã –§–∞–∑–∞ 19: OpenAI API Provider (Network Integration)

### –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å OpenAI API provider —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º API –∫–ª—é—á–∞ –∏ HTTP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π.

### –ó–∞–¥–∞—á–∏

1. **Dependency –Ω–∞ PasswordSafe API:**
   - –£–∂–µ –≤–∫–ª—é—á—ë–Ω –≤ platform, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

2. **`services/ai/providers/OpenAiProvider`:**
   - Implements `AiProvider`
   - –ú–µ—Ç–æ–¥—ã:
     ```kotlin
     suspend fun send(content: String)
     private suspend fun getApiKey(): String
     private suspend fun sendRequest(content: String, apiKey: String)
     ```
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Java 11+ `HttpClient`
   - Endpoint: `https://api.openai.com/v1/chat/completions`
   - Request body: `{"model": "gpt-4o", "messages": [{"role": "user", "content": "..."}]}`
   - Timeout: 30 sec
   - Error handling: HTTP errors, timeout, invalid key

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PasswordSafe:**
   ```kotlin
   private suspend fun getApiKey(): String {
       val attributes = CredentialAttributes(
           serviceName = "lg.intellij.openai.apiKey"
       )
       
       return PasswordSafe.instance.getPassword(attributes)
           ?: throw ApiKeyNotFoundException()
   }
   
   fun saveApiKey(key: String) {
       val attributes = CredentialAttributes(...)
       PasswordSafe.instance.set(attributes, Credentials(null, key))
   }
   ```

4. **Settings UI –¥–ª—è API Key:**
   - –û–±–Ω–æ–≤–∏—Ç—å `LgSettingsConfigurable`: passwordField –¥–ª—è OpenAI key
   - "Test Connection" button (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - Link –Ω–∞ https://platform.openai.com/api-keys

5. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è provider:**
   - –í `AiIntegrationService.init()`: `registerProvider(OpenAiProvider())`
   - Detection: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ OpenAI provider –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ available providers (–µ—Å–ª–∏ –∫–ª—é—á —Å–æ—Ö—Ä–∞–Ω—ë–Ω)  
‚úÖ API key —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ PasswordSafe  
‚úÖ Send to OpenAI –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP request  
‚úÖ Success notification –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è  
‚úÖ Errors –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è (invalid key, network error, timeout)  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `src/services/ai/providers/openai/provider.ts` (–ø–æ–ª–Ω–æ—Å—Ç—å—é) ‚Üí HTTP request structure
- `src/services/ai/base/BaseNetworkProvider.ts` ‚Üí –±–∞–∑–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è network providers

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- –ù–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è HTTP –≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Java 11+ HttpClient documentation (–≤–Ω–µ IntelliJ Platform docs)
- `14-persistence.md` (—Å–µ–∫—Ü–∏–∏: PasswordSafe –¥–ª—è sensitive data)

---

## üìã –§–∞–∑–∞ 20: Polish, Testing & Documentation

### –¶–µ–ª—å
–§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞ UI, –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.

### –ó–∞–¥–∞—á–∏

1. **UI Polish:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –∏ –ø–∞–Ω–µ–ª–µ–π –≤ light/dark/high-contrast —Ç–µ–º–∞—Ö
   - Accessibility: keyboard navigation, screen reader labels
   - Consistent spacing —á–µ—Ä–µ–∑ `JBUI.Borders` –∏ `JBUI.insets()`
   - Icon consistency

2. **Unit Tests:**
   - `CliExecutorTest` ‚Äî mock process, timeout, cancellation
   - `LgCatalogServiceTest` ‚Äî mock CLI responses, JSON parsing
   - `LgGenerationServiceTest` ‚Äî args building, stdin handling
   - `SettingsPersistenceTest` ‚Äî state save/load

3. **Integration Tests:**
   - `ToolWindowTest` ‚Äî visibility, tab creation
   - `StatsDialogTest` ‚Äî data display, table operations
   - `ActionsTest` ‚Äî enablement conditions, context data

4. **Documentation:**
   - `README.md` ‚Äî installation, features, usage
   - `CHANGELOG.md` ‚Äî –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
   - Inline code documentation (KDoc –¥–ª—è public API)

5. **Plugin Verification:**
   - `./gradlew verifyPlugin` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ API compatibility
   - `./gradlew verifyPluginConfiguration`
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö IDE (2024.1, 2024.2, 2024.3)

6. **Performance:**
   - Profiling —Å IntelliJ Platform Profiler
   - Lazy loading –≤—Å–µ—Ö —Ç—è–∂—ë–ª—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
   - Cancellation –≤—Å–µ—Ö background tasks

7. **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è:**
   - –ü–æ–ª–Ω—ã–π `LgBundle_ru.properties` (—Ä—É—Å—Å–∫–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚úÖ –í—Å–µ unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç  
‚úÖ Plugin Verifier –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö warnings  
‚úÖ UI —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ –≤—Å–µ—Ö —Ç–µ–º–∞—Ö  
‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (–ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Memory Profiler)  
‚úÖ README.md –∞–∫—Ç—É–∞–ª–µ–Ω –∏ –ø–æ–ª–æ–Ω  
‚úÖ Plugin –≥–æ—Ç–æ–≤ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ JetBrains Marketplace  

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏–∑ VS Code Extension
- `README.md` ‚Üí —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –æ–ø–∏—Å–∞–Ω–∏–µ features
- –í–µ—Å—å –ø—Ä–æ–µ–∫—Ç ‚Äî –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è IntelliJ Platform
- `15-testing.md` (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
- `01-getting-started.md` (—Å–µ–∫—Ü–∏–∏: Plugin Verification, Publishing)

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ —Ñ–∞–∑–∞–º

| –§–∞–∑–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã VS Code | Docs IntelliJ |
|------|----------|---------------------|-------------------|---------------|
| **0** | –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è | plugin.xml, icons, bundle | package.json, media/lg.svg | 01, 03 |
| **1** | CLI Foundation | CliExecutor, CliResolver | cli/, runner/ | 10, 12 |
| **2** | Settings | LgSettingsService, Configurable | package.json config | 07, 11, 14 |
| **3** | Tool Window Skeleton | Factory, –¥–≤–µ–∫–ª–∞–¥–∫–∏ placeholders | package.json views | 06, 02 |
| **4** | Control Panel UI | –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ UI DSL | control.html/css/js | 07, 05, 13 |
| **5** | Catalog Services | LgCatalogService, StateFlow | CatalogService.ts | 04, 12, 09 |
| **6** | State Management | Panel/Workspace state services | ControlPanelView.ts state | 14, 07 |
| **7** | Generation Services | LG generation, args builder | Listing/ContextService.ts | 12, 18 |
| **8** | Virtual File Display | LightVirtualFile, editor opening | VirtualDocProvider.ts | 09, 20 |
| **9** | Stats Dialog Basic | Dialog —Å –ø—Ä–æ—Å—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ–π | stats.html/js, StatsWebview.ts | 18, 05, 07 |
| **10** | AI Integration | AiIntegrationService, –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã | services/ai/ | 02, 13 |
| **11** | Included Files Tree | Tree view, flat/tree toggle | IncludedTree.ts | 17, 09, 08 |
| **12** | Grouped Table | –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç | grouped-table/ | 05, 07 |
| **13** | Tags Dialog | Modal –¥–ª—è tag selection | control tags panel | 18, 07 |
| **14** | Doctor | Diagnostics dialog | DoctorService.ts, doctor.* | 18, 05 |
| **15** | Init Wizard | lg-cfg creation wizard | StarterConfig.ts | 18, 09 |
| **16** | Git Integration | Branch loading (optional) | GitService.ts | 19, 02 |
| **17** | Advanced UI | Autocomplete, polish | autosuggest/, chat-input/ | 05 |
| **18** | Shortcuts & Menu | Keyboard bindings, Tools menu | package.json commands | 08, 03 |
| **19** | OpenAI Provider | Network integration, PasswordSafe | openai/provider.ts | 14 |
| **20** | Testing & Docs | Tests, README, publish | –í–µ—Å—å –ø—Ä–æ–µ–∫—Ç | 15, 01 |

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ñ–∞–∑

**Must-have –¥–ª—è MVP (—Ñ–∞–∑—ã 0-11):**
- –ü–æ–∫—Ä—ã–≤–∞—é—Ç 80% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –ü–æ–∑–≤–æ–ª—è—é—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å listings/contexts –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ AI
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ navigation

**Nice-to-have (—Ñ–∞–∑—ã 12-19):**
- –£–ª—É—á—à–∞—é—Ç UX
- –†–∞—Å—à–∏—Ä—è—é—Ç AI integration
- Advanced features

**Polish (—Ñ–∞–∑–∞ 20):**
- Production-ready –∫–∞—á–µ—Å—Ç–≤–æ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. **–°—Ç—Ä–æ–≥–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å –ø–æ—Ä—è–¥–∫—É —Ñ–∞–∑** ‚Äî –∫–∞–∂–¥–∞—è –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ
2. **–ö–æ–º–º–∏—Ç–∏—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã** —Å descriptive message
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Development Instance** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã
4. **–ù–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** ‚Äî –æ–Ω–∏ critical –¥–ª—è —Ñ–∞–∑, –≥–¥–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
5. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Kotlin idioms** ‚Äî data classes, sealed classes, delegation, coroutines
6. **–°–ª–µ–¥–æ–≤–∞—Ç—å IntelliJ naming conventions** ‚Äî `Lg` –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏

- **–§–∞–∑–∞ 12 (Grouped Table):** —Å–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π custom –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Äî –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏
- **–§–∞–∑–∞ 16 (Git):** –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ç—Ä–µ–±—É–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏ —Å API compatibility
- **–§–∞–∑–∞ 19 (OpenAI):** network integration —Ç—Ä–µ–±—É–µ—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

–ï—Å–ª–∏ grouped table –æ–∫–∞–∂–µ—Ç—Å—è –∏–∑–±—ã—Ç–æ—á–Ω–æ —Å–ª–æ–∂–Ω—ã–º ‚Äî –º–æ–∂–Ω–æ **–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –§–∞–∑—É 12** –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é —Ç–∞–±–ª–∏—Ü—É –Ω–∞–≤—Å–µ–≥–¥–∞. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ ‚Äî —ç—Ç–æ nice-to-have, –Ω–µ must-have.