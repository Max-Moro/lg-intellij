src:
  extensions: [".kt", ".kts", ".xml", ".properties"]
  filters:
    mode: allow
    allow:
      - "/build.gradle.kts"
      - "/settings.gradle.kts"
      - "/src/main/"
    children:
      src:
        mode: block
        children:
          main:
            mode: block
            children:
              kotlin:
                mode: block
                children:
                  lg:
                    mode: block
                    children:
                      intellij:
                        mode: block
                        when:
                        - condition: "NOT TAGSET:intellij-plugin:control"
                          block:
                            - "/ui/toolwindow/LgControlPanel.kt"
                            - "/ui/components/LgWrappingPanel.kt"
                        - condition: "NOT TAGSET:intellij-plugin:vfs"
                          block:
                            - "/services/vfs/LgVirtualFileService.kt"
                            - "/actions/LgGenerateAction.kt"
                        - condition: "NOT TAGSET:intellij-plugin:catalog"
                          block:
                            - "/actions/LgRefreshCatalogsAction.kt"
                            - "/models/ContextsListSchema.kt"
                            - "/models/EncodersListSchema.kt"
                            - "/models/SectionsListSchema.kt"
                            - "/models/TokenizerLibsListSchema.kt"
                            - "/listeners/LgConfigFileListener.kt"
                            - "/services/catalog/LgCatalogService.kt"
                            - "/services/catalog/TokenizerCatalogService.kt"
                        - condition: "NOT TAGSET:intellij-plugin:cli"
                          block:
                            - "/cli/CliResolver.kt"
                            - "/cli/CliException.kt"
